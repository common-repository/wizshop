jQuery(document).ready(function(c){!function(){var e=!1,t=c("#wiz_page_ver")[0]?parseFloat(c("#wiz_page_ver").val()):0;function d(a){postMessage(JSON.stringify({status_report_off:!0,wizshop:!0,object_id:a}),"*")}function i(){var a=window.location.hash.replace(/^#/,"");"step_1"==a?(c("#step_3").addClass("v_ihide"),c('[data-wiz-head="1"]').addClass("dotter"),c('[data-wiz-head="2"]').removeClass("dotter"),c('[data-wiz-head="3"]').removeClass("dotter"),c('[data-wiz-title="1"]').removeClass("title-off"),c('[data-wiz-title="2"]').addClass("title-off"),c('[data-wiz-title="3"]').addClass("title-off"),0==t?c("[data-cust-type]").each(function(a,s){if(c(s).hasClass("v_iselect")){var e=c(s).attr("data-cust-type");c("[data-cust-form]").addClass("v_ihide"),c('[data-cust-form="'+e+'"]').removeClass("v_ihide")}}):(c("[data-cust-type]").each(function(a,s){if(!c(s).hasClass("v_iselect")){var e=c(s).attr("data-cust-type");c('[data-cust-form="'+e+'"]').addClass("v_ihide")}}),c('[data-cust-form="0"]').removeClass("v_ihide"))):"step_2"==a?(c('[data-cust-form="0"]').removeClass("v_ihide"),c("#step_3").addClass("v_ihide"),c('[data-wiz-head="1"]').addClass("dotter"),c('[data-wiz-head="2"]').addClass("dotter"),c('[data-wiz-head="3"]').removeClass("dotter"),c('[data-wiz-title="2"]').removeClass("title-off"),c('[data-wiz-title="1"]').addClass("title-off"),c('[data-wiz-title="3"]').addClass("title-off"),2<=t&&(c('[data-cust-form="1"]').addClass("v_ihide"),c('[data-cust-form="2"]').addClass("v_ihide"))):"step_3"==a?(!e&&2<=t?c("#payment_select").addClass("v_ihide"):c("#payment_select").removeClass("v_ihide"),c('[data-wiz-head="1"]').addClass("dotter"),c('[data-wiz-head="2"]').addClass("dotter"),c('[data-wiz-head="3"]').addClass("dotter"),c('[data-wiz-title="3"]').removeClass("title-off"),c('[data-wiz-title="1"]').addClass("title-off"),c('[data-wiz-title="2"]').addClass("title-off"),c('[data-cust-form="0"]').addClass("v_ihide"),2<=t&&(c('[data-cust-form="1"]').addClass("v_ihide"),c('[data-cust-form="2"]').addClass("v_ihide"),e||c("#step_3").removeClass("v_ihide"))):"checkout_report"==a&&(c("#step_1").addClass("v_ihide"),c("#step_3").addClass("v_ihide"),c("#step_3").addClass("v_ihide"))}function o(a){1==a?(c("#pay_mehtod_0").addClass("v_ihide"),c("#pay_mehtod_01").addClass("v_ihide"),c("#pay_mehtod_1").removeClass("v_ihide")):(c("#pay_mehtod_1").addClass("v_ihide"),c("#pay_mehtod_0").removeClass("v_ihide"),c("#pay_mehtod_01").removeClass("v_ihide"))}function l(a){c("#vs_VSSameAdd").prop("checked",a),a?0==t?c(".collappse-block").css("display","block"):(c(".collappse-block").css("display","none"),c("#collyes").removeClass("primary-outline"),c("#collno").addClass("primary-outline")):0==t?c(".collappse-block").css("display","none"):(c(".collappse-block").css("display","block"),c("#collno").removeClass("primary-outline"),c("#collyes").addClass("primary-outline"))}c(window).on("message",function(a){var s=null;try{a.originalEvent&&(s=JSON.parse(a.originalEvent.data))}catch(a){s=null}s&&s.wizshop&&(s.creditChange?o(s.credit.method):s.cpPainted?"step_3"==s.id&&(c("#payment_select").hasClass("v_ihide")||($meth=c("#payment_select").find("[data-wiz-credit-type].v_iselect"),o(parseInt($meth.attr("data-wiz-credit-type"))),!e&&2<=t&&c("#payment_select").addClass("v_ihide")),"#step_3"==window.location.hash&&(e||2<=t)?c("#step_3").removeClass("v_ihide"):c("#step_3").addClass("v_ihide")):s.userLogin?(d((e=s.login)?["sign-in","sign-in-b2b","payment","sign-up"]:["payment","sign-up"]),s.cust_obj&&(s.cust_obj.hasOwnProperty("VSSameAdd")&&("1"==s.cust_obj.VSSameAdd?c("#collyes").click():c("#collno").click(),c("#other_add").prop("checked","1"!=s.cust_obj.VSSameAdd),l("1"==s.cust_obj.VSSameAdd)),"3"!=s.cust_obj.VSSendAdvByMail||"3"!=s.cust_obj.VSSendCpn?c("#cpn-adv").prop("checked","1"==s.cust_obj.VSSendAdvByMail||"1"==s.cust_obj.VSSendCpn):(c("#cpn-adv").addClass("v_ihide"),c('[for="cpn-adv"]').addClass("v_ihide"))),function(){var a=window.location.hash.replace(/^#/,""),s=!1;e?a&&"step_1"!=a?"step_2"!=a||c("#step_2")[0]||(window.location.hash="step_3",s=!0):(window.location.hash=c("#step_2")[0]?"step_2":"step_3",s=!0):(t<2||!a)&&(window.location.hash="step_1")!=a&&(s=!0);s||i()}()):s.purchaseCompleted&&(window.location.hash="#checkout_report"))}),c(window).bind("hashchange",function(){i()}),c("[data-cust-type]").click(function(a){var s=c(this).attr("data-cust-type");if(0==t)c("[data-cust-type]").removeClass("v_iselect"),c(this).addClass("v_iselect"),c("[data-cust-form]").addClass("v_ihide"),c('[data-cust-form="'+s+'"]').removeClass("v_ihide");else{if(0!=s)c(this).hasClass("v_iselect")?(c("[data-cust-type]").removeClass("v_iselect"),c('[data-cust-form="'+s+'"]').addClass("v_ihide")):(c("[data-cust-type]").removeClass("v_iselect"),c(this).addClass("v_iselect"),c("[data-cust-form]").addClass("v_ihide"),c('[data-cust-form="'+s+'"]').removeClass("v_ihide"));c('[data-cust-form="0"]').removeClass("v_ihide"),d(["sign-in","sign-in-b2b","sign-up"])}0==s?window.location.hash="step_2":1==s?window.location.hash="step_1":2==s&&(window.location.hash="step_1")}),c("[data-wiz-step]").click(function(a){d(["payment","sign-up"]);var s=c(a.target).attr("data-wiz-step");s&&(window.location.hash="#step_"+s)}),c(".showpass").click(function(a){c(".password-block").toggleClass("v_ihide"),c(".showpass").toggleClass("minus-icon")}),c("#collyes").click(function(a){l(!0)}),c("#collno").click(function(a){l(!1)}),c("#other_add").click(function(a){l(!this.checked)}),c("#cpn-adv").on("click",function(a){c("#vs_VSSendAdvByMail").hasClass("v_ihide")||c("#vs_VSSendAdvByMail").prop("checked",this.checked),c("#vs_VSSendCpn").hasClass("v_ihide")||c("#vs_VSSendCpn").prop("checked",this.checked)})}()});